<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

<!-- Template Choice page -->
<template id="email_designer" name="Email Designer">
    <t t-call="website.layout">
        <div id="wrap" class="container" t-ignore="True">
            <div id="email_template" class="mb32" t-att-style="mode != 'email_template' and 'display: none' or ''">
                <a class="btn btn-default pull-right" 
                  t-attf-href="/web#return_label=Website&amp;model=#{model}&amp;id=#{res_id}&amp;view_type=form">
                    Back
                </a>
                <a class="btn btn-success email_template_theme_select pull-right create_new" style="margin-right: 5px;"> 
                <i class="fa fa-file-o"></i> 
                    <span >Start with Blank</span>
                </a>
                
                <h1 class="page-header mt16 email_head panel-primary" t-if="model!='email.template'">
                    Choose an Email Template 
                    <button type="button" class="btn btn-sm btn-default info_popover fa fa-info-circle" data-toggle="popover" data-trigger="focus" title="Help" data-content="Here you can use predefined email template &lt;b&gt; or  &lt;/b&gt; you can design your own email from scratch"></button>
                </h1>
                <h1 class="page-header mt16 email_head panel-primary" t-if="model=='email.template'">
                    Design your Email Template 
                    <button type="button" class="btn btn-sm btn-default info_popover fa fa-info-circle" data-toggle="popover" data-trigger="focus" title="Help" data-content="Here you can duplicate previously designed template &lt;b&gt; or  &lt;/b&gt; you can design your own template from scratch."></button>
                </h1>
                <div class="row">
                    <div t-foreach="templates" t-as="template" class="col-md-2 col-sm-3 text-center email_template">
                        <div class="template_options">
                            <button class="btn btn-primary js_template_set" t-att-data-snippet-xmlid="template.theme_xml_id">
                                <span t-if="model!='email.template'">Select</span>
                                <span t-if="model=='email.template'">Duplicate &amp; Edit</span>
                            </button>
                        </div>
                        <div class="email_preview_border template_thumbnail">
                            <div t-field="template.body_html" class="email_preview js_content"/>
                        </div>
                        <h4 class="template_name" t-field="template.name"/>
                    </div>
                </div>
            </div>
            <div id="email_designer" class="mb32" t-att-style="mode != 'email_designer' and 'display: none' or ''">
                <a class="btn btn-default pull-right css_editable_mode_hidden email_template_theme_select" style="margin-left:10px;">
                    <i class="fa fa-tint"> Change Theme</i>
                </a>
                <a class="btn btn-primary pull-right css_editable_mode_hidden" 
                  t-attf-href="/web#return_label=Website&amp;model=#{model}&amp;id=#{res_id}&amp;view_type=form">
                    Save and Continue
                </a>
                <h1 class="page-header mt16">
                    Design Your Email
                </h1>
                <div class="form-horizontal">
                    <!-- email_from fields-->
                    <div class="form-group" t-if="email_from_field == 'email_from'">
                        <label class="col-sm-2 control-label">From:</label>
                        <div class="col-sm-7"><span t-field="record.email_from" class="form-control"/></div>
                    </div>
                    <div class="form-group" t-if="email_from_field == 'email'">
                        <label class="col-sm-2 control-label">From:</label>
                        <div class="col-sm-7"><span t-field="record.email" class="form-control"/></div>
                    </div>
                    <!-- email_from fields-->
                    <div class="form-group" t-if="subject_field == 'subject'">
                        <label class="col-sm-2 control-label">Subject:</label>
                        <div class="col-sm-7"><span t-field="record.subject" class="form-control"/></div>
                    </div>
                    <div class="form-group" t-if="subject_field == 'name'">
                        <label class="col-sm-2 control-label">Subject:</label>
                        <div class="col-sm-7"><span t-field="record.name" class="form-control"/></div>
                    </div>
                </div>
                <hr/>
                <!-- body fields -->
                <div t-if="body_field == 'body_html'" class="col-sm-offset-2">
                    <div t-field="record.body_html" id="email_body_html" class="o_mail_body"/>
                </div>
                <div t-if="body_field == 'body'" class="col-sm-offset-2">
                    <div t-field="record.body" id="email_body" class="o_mail_body"/>
                </div>
            </div>
        </div>
    </t>
    <t t-set="website.footer"></t>
</template>

<template id="dialog_email_template_theme" name="Theme Modal for Email Template">
  <div id="email_template_theme" class="modal fade">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header text-center">
                  <button type="button" class="close">Ã—</button>
                  <h4 class="modal-title">Select Theme For Template</h4>
              </div>
              <div class="modal-body">
                    <div class="row" id="email_template_list">
                        <div class="col-md-3">
                            <div class="template_thumbnail">
                                <div class="col-md-12 overlay text-center">
                                    <p>Neopolitan</p>
                                    <a class="btn btn-primary btn-sm" data-snippet-xmlid="website_mail.neopolitan_snippets"> Select </a>
                                </div>
                                <img class="img img-responsive img-thumbnail" src="/website_mail/static/src/img/thumbnail/neopolitan.png"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="template_thumbnail">
                                <div class="col-md-12 overlay text-center">
                                    <p>Skyline</p>
                                    <a class="btn btn-primary btn-sm" data-snippet-xmlid="website_mail.skyline_snippets"> Select </a>
                                </div>
                                <img class="img img-responsive img-thumbnail" src="/website_mail/static/src/img/thumbnail/skyline.png"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="template_thumbnail">
                                <div class="col-md-12 overlay text-center">
                                    <p>Go</p>
                                    <a class="btn btn-primary btn-sm" data-snippet-xmlid="website_mail.go_snippets"> Select </a>
                                </div>
                                <img class="img img-responsive img-thumbnail" src="/website_mail/static/src/img/thumbnail/go.png"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="template_thumbnail">
                                <div class="col-md-12 overlay text-center">
                                    <p>Sunday</p>
                                    <a class="btn btn-primary btn-sm" data-snippet-xmlid="website_mail.sunday_snippets"> Select </a>
                                </div>
                                <img class="img img-responsive img-thumbnail" src="/website_mail/static/src/img/thumbnail/sunday.png"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="template_thumbnail">
                                <div class="col-md-12 overlay text-center">
                                    <p>Airmail</p>
                                    <a class="btn btn-primary btn-sm" data-snippet-xmlid="website_mail.airmail_snippets"> Select </a>
                                </div>
                                <img class="img img-responsive img-thumbnail" src="/website_mail/static/src/img/thumbnail/airmail.png"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="template_thumbnail">
                                <div class="col-md-12 overlay text-center">
                                    <p>Cleave</p>
                                    <a class="btn btn-primary btn-sm" data-snippet-xmlid="website_mail.cleave_snippets"> Select </a>
                                </div>
                                <img class="img img-responsive img-thumbnail" src="/website_mail/static/src/img/thumbnail/cleave.png"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="template_thumbnail">
                                <div class="col-md-12 overlay text-center">
                                    <p>Narrative</p>
                                    <a class="btn btn-primary btn-sm" data-snippet-xmlid="website_mail.narrative_snippets"> Select </a>
                                </div>
                                <img class="img img-responsive img-thumbnail" src="/website_mail/static/src/img/thumbnail/narrative.png"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="template_thumbnail">
                                <div class="col-md-12 overlay text-center">
                                    <p>Zen-Flat</p>
                                    <a class="btn btn-primary btn-sm" data-snippet-xmlid="website_mail.zenflat_snippets"> Select </a>
                                </div>
                                <img class="img img-responsive img-thumbnail" src="/website_mail/static/src/img/thumbnail/zenflat.png"/>
                            </div>
                        </div>
                    </div>
              </div>
          </div>
      </div>
  </div>
</template>

    </data>
</openerp>